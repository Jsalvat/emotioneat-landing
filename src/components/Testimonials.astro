---
interface Props {
  t?: any;
}

const { t } = Astro.props;

const testimonials = [
  {
    quote: "I used to think something was wrong with me. Now I understand that stress eating was my brain's way of coping. Three months in, and I finally feel at peace with food.",
    name: "Mar√≠a",
    role: "Teacher, 34",
    avatar: "M",
    color: "primary"
  },
  {
    quote: "The daily challenges don't feel like a diet. They feel like small acts of kindness toward myself. That's what makes this different.",
    name: "James",
    role: "Software Developer, 28",
    avatar: "J",
    color: "secondary"
  },
  {
    quote: "For the first time, I stopped asking 'what's wrong with me' and started asking 'what is this trying to tell me?' EmotionEat taught me to listen.",
    name: "Ana",
    role: "Nurse, 41",
    avatar: "A",
    color: "accent"
  }
];

const colorClasses = {
  primary: {
    bg: "bg-primary-100",
    text: "text-primary-600",
    border: "border-primary-200",
    quote: "text-primary-300"
  },
  secondary: {
    bg: "bg-secondary-100",
    text: "text-secondary-600",
    border: "border-secondary-200",
    quote: "text-secondary-300"
  },
  accent: {
    bg: "bg-accent-100",
    text: "text-accent-600",
    border: "border-accent-200",
    quote: "text-accent-300"
  }
};
---

<section class="relative py-24 sm:py-32 px-4 sm:px-6 lg:px-8 overflow-hidden bg-gradient-to-b from-white via-primary-50/30 to-white">
  <!-- Decorative elements -->
  <div class="absolute top-20 left-10 w-32 h-32 bg-primary-200/30 rounded-full blur-3xl"></div>
  <div class="absolute bottom-20 right-10 w-32 h-32 bg-secondary-200/30 rounded-full blur-3xl"></div>

  <div class="relative container mx-auto max-w-7xl">
    <!-- Section Header -->
    <div class="text-center mb-16 sm:mb-20 animate-on-scroll">
      <span class="inline-block px-4 py-2 bg-white text-neutral-600 text-sm font-semibold rounded-full border border-neutral-200 mb-6 shadow-sm">
        Real Stories
      </span>
      <h2 class="text-3xl sm:text-4xl lg:text-5xl font-bold text-neutral-800 mb-6">
        They started exactly
        <span class="text-primary-500">where you are</span>
      </h2>
      <p class="text-lg sm:text-xl text-neutral-500 max-w-2xl mx-auto">
        Real people who found their way to a healthier relationship with food.
      </p>
    </div>

    <!-- Testimonials Grid -->
    <div class="grid md:grid-cols-3 gap-8">
      {testimonials.map((testimonial, index) => {
        const colors = colorClasses[testimonial.color as keyof typeof colorClasses];
        return (
          <div class={`group animate-on-scroll delay-${(index + 1) * 100}`}>
            <div class="relative h-full bg-white rounded-3xl p-8 border border-neutral-100 shadow-sm hover:shadow-xl transition-all duration-500 hover:-translate-y-1">
              <!-- Quote mark -->
              <div class={`absolute -top-4 left-8 text-7xl font-serif ${colors.quote} leading-none select-none`}>
                "
              </div>

              <!-- Content -->
              <div class="relative pt-6">
                <blockquote class="text-lg text-neutral-600 leading-relaxed mb-8 italic">
                  {testimonial.quote}
                </blockquote>

                <!-- Author -->
                <div class="flex items-center gap-4">
                  <div class={`w-14 h-14 rounded-full ${colors.bg} ${colors.text} flex items-center justify-center text-xl font-bold border-4 border-white shadow-md`}>
                    {testimonial.avatar}
                  </div>
                  <div>
                    <div class="font-bold text-neutral-800">{testimonial.name}</div>
                    <div class="text-sm text-neutral-500">{testimonial.role}</div>
                  </div>
                </div>
              </div>

              <!-- Decorative bottom line -->
              <div class={`absolute bottom-0 left-8 right-8 h-1 bg-gradient-to-r ${testimonial.color === 'primary' ? 'from-primary-400 to-primary-500' : testimonial.color === 'secondary' ? 'from-secondary-400 to-secondary-500' : 'from-accent-300 to-accent-400'} rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-500`}></div>
            </div>
          </div>
        );
      })}
    </div>

    <!-- Social proof -->
    <div class="mt-16 text-center animate-on-scroll delay-400">
      <div class="inline-flex items-center gap-3 px-6 py-3 bg-white rounded-full border border-neutral-100 shadow-sm">
        <div class="flex -space-x-2">
          <div class="w-8 h-8 rounded-full bg-primary-100 text-primary-600 flex items-center justify-center text-xs font-bold border-2 border-white">S</div>
          <div class="w-8 h-8 rounded-full bg-secondary-100 text-secondary-600 flex items-center justify-center text-xs font-bold border-2 border-white">M</div>
          <div class="w-8 h-8 rounded-full bg-accent-100 text-accent-600 flex items-center justify-center text-xs font-bold border-2 border-white">L</div>
          <div class="w-8 h-8 rounded-full bg-neutral-100 text-neutral-600 flex items-center justify-center text-xs font-bold border-2 border-white">+</div>
        </div>
        <span class="text-sm text-neutral-600">
          Join <span class="font-semibold text-neutral-800">thousands</span> on their healing journey
        </span>
      </div>
    </div>
  </div>
</section>
